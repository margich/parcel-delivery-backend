import { OrderStatus } from '@prisma/client';
import { PrismaService } from '../prisma/prisma.service';
import { RedisService } from '../redis/redis.service';
import { TrackingGateway } from '../tracking/tracking.gateway';
export declare class OrdersService {
    private prisma;
    private redis;
    private trackingGateway;
    constructor(prisma: PrismaService, redis: RedisService, trackingGateway: TrackingGateway);
    getPricing(): Promise<{
        baseFare: number;
        perKm: number;
    }>;
    getMyOrders(userId: string): Promise<({
        customer: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            isDeleted: boolean;
            deletedAt: Date | null;
            name: string;
            phoneNumber: string;
            password: string;
            role: import("@prisma/client").$Enums.Role;
            activeRole: import("@prisma/client").$Enums.Role;
            mpesaNumber: string | null;
            ratingCount: number;
            ratingSum: number;
            overallRating: import("@prisma/client-runtime-utils").Decimal;
            lastLogin: Date | null;
        };
        courier: ({
            courierProfile: {
                id: string;
                vehicleType: import("@prisma/client").$Enums.VehicleType;
                createdAt: Date;
                updatedAt: Date;
                isDeleted: boolean;
                deletedAt: Date | null;
                ratingCount: number;
                ratingSum: number;
                overallRating: import("@prisma/client-runtime-utils").Decimal;
                userId: string;
                vehiclePhotoUrl: string | null;
                plateNumber: string | null;
                idCardNumber: string | null;
                idCardFrontPhotoUrl: string | null;
                idCardBackPhotoUrl: string | null;
                payoutMpesaNumber: string | null;
                isOnline: boolean;
                verificationStatus: import("@prisma/client").$Enums.VerificationStatus;
            } | null;
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            isDeleted: boolean;
            deletedAt: Date | null;
            name: string;
            phoneNumber: string;
            password: string;
            role: import("@prisma/client").$Enums.Role;
            activeRole: import("@prisma/client").$Enums.Role;
            mpesaNumber: string | null;
            ratingCount: number;
            ratingSum: number;
            overallRating: import("@prisma/client-runtime-utils").Decimal;
            lastLogin: Date | null;
        }) | null;
        transactions: {
            id: string;
            status: import("@prisma/client").$Enums.TransactionStatus;
            createdAt: Date;
            updatedAt: Date;
            phoneNumber: string;
            parcelRequestId: string | null;
            mpesaReference: string | null;
            type: import("@prisma/client").$Enums.TransactionType;
            amount: import("@prisma/client-runtime-utils").Decimal;
            gatewayResponse: import("@prisma/client/runtime/client").JsonValue | null;
            failureReason: string | null;
        }[];
        reviews: {
            id: string;
            createdAt: Date;
            parcelRequestId: string;
            fromUserId: string;
            toUserId: string;
            rating: number;
            comment: string | null;
        }[];
        statusHistory: {
            id: string;
            status: import("@prisma/client").$Enums.OrderStatus;
            createdAt: Date;
            parcelRequestId: string;
        }[];
    } & {
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    })[]>;
    create(userId: string, orderDto: any): Promise<{
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }>;
    getAvailableOrders(userId: string): Promise<{
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }[]>;
    acceptOrder(courierId: string, orderId: string): Promise<{
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }>;
    updateStatus(orderId: string, userId: string, status: OrderStatus, photos?: any): Promise<{
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }>;
    findOne(orderId: string): Promise<({
        customer: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            isDeleted: boolean;
            deletedAt: Date | null;
            name: string;
            phoneNumber: string;
            password: string;
            role: import("@prisma/client").$Enums.Role;
            activeRole: import("@prisma/client").$Enums.Role;
            mpesaNumber: string | null;
            ratingCount: number;
            ratingSum: number;
            overallRating: import("@prisma/client-runtime-utils").Decimal;
            lastLogin: Date | null;
        };
        courier: ({
            courierProfile: {
                id: string;
                vehicleType: import("@prisma/client").$Enums.VehicleType;
                createdAt: Date;
                updatedAt: Date;
                isDeleted: boolean;
                deletedAt: Date | null;
                ratingCount: number;
                ratingSum: number;
                overallRating: import("@prisma/client-runtime-utils").Decimal;
                userId: string;
                vehiclePhotoUrl: string | null;
                plateNumber: string | null;
                idCardNumber: string | null;
                idCardFrontPhotoUrl: string | null;
                idCardBackPhotoUrl: string | null;
                payoutMpesaNumber: string | null;
                isOnline: boolean;
                verificationStatus: import("@prisma/client").$Enums.VerificationStatus;
            } | null;
        } & {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            isDeleted: boolean;
            deletedAt: Date | null;
            name: string;
            phoneNumber: string;
            password: string;
            role: import("@prisma/client").$Enums.Role;
            activeRole: import("@prisma/client").$Enums.Role;
            mpesaNumber: string | null;
            ratingCount: number;
            ratingSum: number;
            overallRating: import("@prisma/client-runtime-utils").Decimal;
            lastLogin: Date | null;
        }) | null;
        transactions: {
            id: string;
            status: import("@prisma/client").$Enums.TransactionStatus;
            createdAt: Date;
            updatedAt: Date;
            phoneNumber: string;
            parcelRequestId: string | null;
            mpesaReference: string | null;
            type: import("@prisma/client").$Enums.TransactionType;
            amount: import("@prisma/client-runtime-utils").Decimal;
            gatewayResponse: import("@prisma/client/runtime/client").JsonValue | null;
            failureReason: string | null;
        }[];
        reviews: {
            id: string;
            createdAt: Date;
            parcelRequestId: string;
            fromUserId: string;
            toUserId: string;
            rating: number;
            comment: string | null;
        }[];
        statusHistory: {
            id: string;
            status: import("@prisma/client").$Enums.OrderStatus;
            createdAt: Date;
            parcelRequestId: string;
        }[];
    } & {
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }) | null>;
    update(orderId: string, userId: string, updateDto: any): Promise<{
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }>;
    remove(orderId: string, userId: string): Promise<{
        id: string;
        customerId: string;
        courierId: string | null;
        pickupAddress: string;
        pickupLat: number;
        pickupLng: number;
        dropoffAddress: string;
        dropoffLat: number;
        dropoffLng: number;
        vehicleType: import("@prisma/client").$Enums.VehicleType;
        packageType: string;
        instructions: string | null;
        parcelPhotoUrl: string | null;
        pickupPhotoUrl: string | null;
        deliveryPhotoUrl: string | null;
        fixedPrice: import("@prisma/client-runtime-utils").Decimal;
        platformFee: import("@prisma/client-runtime-utils").Decimal;
        courierEarning: import("@prisma/client-runtime-utils").Decimal;
        totalPrice: import("@prisma/client-runtime-utils").Decimal;
        status: import("@prisma/client").$Enums.OrderStatus;
        expiresAt: Date | null;
        createdAt: Date;
        updatedAt: Date;
        isDeleted: boolean;
        deletedAt: Date | null;
    }>;
}
